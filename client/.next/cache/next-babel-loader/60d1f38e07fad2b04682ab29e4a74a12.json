{"ast":null,"code":"import axios from 'axios';\nimport setAuthorizationToken from '../../utils/setAuthorization';\nimport jwt from 'jsonwebtoken';\nimport cookie from 'js-cookie';\nimport { SET_CURRENT_USER } from './types';\nexport function setCurrentUser(user) {\n  return {\n    type: SET_CURRENT_USER,\n    user\n  };\n}\nexport function userRegisterRequest(data) {\n  return async dispatch => {\n    const res = await axios.post('/api/register', data);\n    const token = res.data.token;\n    const user = res.data.user;\n    cookie.set('jwtToken', token);\n    cookie.set('user', user);\n    setAuthorizationToken(token);\n    dispatch(setCurrentUser(jwt.decode(token)));\n  };\n}","map":{"version":3,"sources":["/app/src/store/actions/RegisterActions.ts"],"names":["axios","setAuthorizationToken","jwt","cookie","SET_CURRENT_USER","setCurrentUser","user","type","userRegisterRequest","data","dispatch","res","post","token","set","decode"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,qBAAP,MAAkC,8BAAlC;AACA,OAAOC,GAAP,MAAgB,cAAhB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,SAASC,gBAAT,QAAiC,SAAjC;AAEA,OAAO,SAASC,cAAT,CAAwBC,IAAxB,EAAmC;AACxC,SAAO;AACLC,IAAAA,IAAI,EAAEH,gBADD;AAELE,IAAAA;AAFK,GAAP;AAID;AAED,OAAO,SAASE,mBAAT,CAA6BC,IAA7B,EAAwC;AAC7C,SAAO,MAAOC,QAAP,IAAiE;AACtE,UAAMC,GAAG,GAAG,MAAMX,KAAK,CAACY,IAAN,CAAW,eAAX,EAA4BH,IAA5B,CAAlB;AACA,UAAMI,KAAK,GAAGF,GAAG,CAACF,IAAJ,CAASI,KAAvB;AACA,UAAMP,IAAI,GAAGK,GAAG,CAACF,IAAJ,CAASH,IAAtB;AACAH,IAAAA,MAAM,CAACW,GAAP,CAAW,UAAX,EAAuBD,KAAvB;AACAV,IAAAA,MAAM,CAACW,GAAP,CAAW,MAAX,EAAmBR,IAAnB;AACAL,IAAAA,qBAAqB,CAACY,KAAD,CAArB;AACAH,IAAAA,QAAQ,CAACL,cAAc,CAACH,GAAG,CAACa,MAAJ,CAAWF,KAAX,CAAD,CAAf,CAAR;AACD,GARD;AASD","sourcesContent":["import axios from 'axios';\nimport setAuthorizationToken from '../../utils/setAuthorization';\nimport jwt from 'jsonwebtoken';\nimport cookie from 'js-cookie';\nimport { SET_CURRENT_USER } from './types';\n\nexport function setCurrentUser(user: any) {\n  return {\n    type: SET_CURRENT_USER,\n    user\n  };\n}\n\nexport function userRegisterRequest(data: any) {\n  return async (dispatch: (arg0: { type: string; user: any }) => void) => {\n    const res = await axios.post('/api/register', data);\n    const token = res.data.token;\n    const user = res.data.user;\n    cookie.set('jwtToken', token);\n    cookie.set('user', user);\n    setAuthorizationToken(token);\n    dispatch(setCurrentUser(jwt.decode(token)));\n  };\n}\n"]},"metadata":{},"sourceType":"module"}